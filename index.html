<!doctype html>
<html>
    <head>
        <title>QFF 2014</title>

        <!--jQuery CDN-->
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <!--windows.js-->
        <script src="js/jquery.windows.js"></script>
        <!--jQuery Plugins for smooth navigation bar scrolling-->
        <script src="js/jquery.scrollTo.min.js"></script>
        <script src="js/jquery.localScroll.min.js"></script>
        <!--CSS Stylesheet-->
        <link rel="stylesheet" href="css/style.css">

    </head>
    <body>

        <section class="window" id="1">

        	<ul class="nav">
		  		<li>
		  			<a href="#1" class="nav-active"></a>
		  		</li>
		  		<li>
		  			<a href="#2"></a>
		  		</li>
		  		<li>
		  			<a href="#3"></a>
		  		</li>
		  		<li>
		  			<a href="#4"></a>
		  		</li>
                <li>
                    <a href="#5"></a>
                </li>
			</ul>

            <div class="content">
                <img src="imgs/qff_white_logo.png" id="small-logo"></img>
            	<h1>
            		FEBRUARY 6 - 8
            	</h1>
                <h3>
                    A SHOWCASE FOR THE LGBTQQIA COMMUNITY'S ACTORS, WRITERS, & DIRECTORS.
                </h3>
                <img src="imgs/qff_color_logo.png" id="large-logo"></img>
            </div>
        </section>

        <section class="window" id="2">
            <div class="content">
                <div class="dates">
                <div class="date-box" id="active">
                    <h3>
                        FRIDAY, FEB 6
                    </h3>
                </div>
                <div class="date-box">
                    <h3>
                        SATURDAY, FEB 7
                    </h3>
                </div>
                <div class="date-box">
                    <h3>
                        SUNDAY, FEB 8
                    </h3>
                </div>
            </div>
            </div>
        </section>

        <section class="window" id="3">
            <div class="content">
                
            </div>
        </section>

        <section class="window" id="4">
            <div class="content">

            </div>
        </section>

        <section class="window" id="5">
            <div class="content">

            </div>
        </section>

        <section class="footer">
            <div class="content">

            </div>
        </section>

        <!--window.js component-->
        <script>
            $(document).ready(function(){
                var $windows = $('.window');
                $windows.windows({
                    snapping: true,
                    snapSpeed: 500,
                    snapInterval: 1000,
                    onScroll: function(s){},
                    onSnapComplete: function($el){},
                    onWindowEnter: function($el){}
                });

                $('.nav').localScroll({
           			target:'body'
        		});

                var aChildren = $(".nav li").children(); // find the a children of the list items
			    var aArray = []; // create the empty aArray
			    for (var i=0; i < aChildren.length; i++) {    
			        var aChild = aChildren[i];
			        var ahref = $(aChild).attr('href');
			        aArray.push(ahref);
			    } // this for loop fills the aArray with attribute href values

			    $(window).scroll(function(){
			        var windowPos = $(window).scrollTop(); // get the offset of the window from the top of page
			        var windowHeight = $(window).height(); // get the height of the window
			        var docHeight = $(document).height();

			        for (var i=0; i < aArray.length; i++) {
			            var theID = aArray[i];
			            var divPos = $(theID).offset().top; // get the offset of the div from the top of page
			            var divHeight = $(theID).height(); // get the height of the div in question
			            if (windowPos >= divPos && windowPos < (divPos + divHeight)) {
			                $("a[href='" + theID + "']").addClass("nav-active");
			            } else {
			                $("a[href='" + theID + "']").removeClass("nav-active");
			            }
			        }

			        if(windowPos + windowHeight == docHeight) {
			            if (!$(".nav li:last-child a").hasClass("nav-active")) {
			                var navActiveCurrent = $(".nav-active").attr("href");
			                $("a[href='" + navActiveCurrent + "']").removeClass("nav-active");
			                $(".nav li:last-child a").addClass("nav-active");
			            }
			        }
			    });


            });
        </script>

    </body>
</html>